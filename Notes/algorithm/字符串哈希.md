# 字符串的hash方法

## bkdrhash方法：

其方法为：计算前缀和的方式来对字符串进行hash
计算公式：$sum=\sum_{1}^{位数}系数^{位数}(s[i]-'a')$

其中系数的选择时需要考虑，选择非1的正奇数即可，一般我们选择131,也可以选择31、131、1313、13131、131313。

## 例子

- AcWing 138. 兔子与兔子

```python
很久很久以前，森林里住着一群兔子。
有一天，兔子们想要研究自己的 DNA 序列。

我们首先选取一个好长好长的 DNA 序列（小兔子是外星生物，DNA 序列可能包含 26 个小写英文字母）。

然后我们每次选择两个区间，询问如果用两个区间里的 DNA 序列分别生产出来两只兔子，这两个兔子是否一模一样。

注意两个兔子一模一样只可能是他们的 DNA 序列一模一样。

输入格式
第一行输入一个 DNA 字符串 S。

第二行一个数字 m，表示 m 次询问。

接下来 m 行，每行四个数字 l1,r1,l2,r2，分别表示此次询问的两个区间，注意字符串的位置从1开始编号。

输出格式
对于每次询问，输出一行表示结果。

如果两只兔子完全相同输出 Yes，否则输出 No（注意大小写）。

数据范围
1≤length(S),m≤1000000
输入样例：
aabbaabb
3
1 3 5 7
1 3 6 8
1 2 1 2
输出样例：
Yes
No
Yes
思路： 将字符串经过字符串hash方法BKDRhash的处理成前缀和数组，并且最后变成的是一个p进制的数，p即为hash的系数，因为这个题目需要求区间匹配，所以用前缀和来求区间哈希和，用来匹配字符串相等。
注意：这种hash很常用，冲突概率很低，简单易解释便于理解。
python中获取字符的ASCLL码为ord(),由ASCLL码转字符为chr()
s = input().strip()
n = int(input())
N = int(1e6+7)
p = [0 for i in range(N)]
sum = [0 for i in range(N)]
hash = 131
p[0] = 1
for i in range(1,len(s)+1):
    sum[i] = sum[i-1] * hash +(ord(s[i-1])-ord('a')+1)
    p[i] = p[i-1] * hash

for i in range(n):
    l1 ,r1 ,l2 ,r2 = map(int,input().split())
    if (sum[r1]-sum[l1-1]*p[r1-l1+1] == sum[r2]-sum[l2-1]*p[r2-l2+1]):
        print('Yes')
    else:
        print('No')
```

- 